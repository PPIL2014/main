<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
         <link href="default.css" rel="stylesheet" type="text/css" media="screen" />
    </h:head>
    <h:body>
         <div id="header-wrapper">
			<div id="header">
				<div id="logo">
				<h1><a href="#">DateRoulette</a></h1>
				</div>
			</div>
		</div>
		
		<div id="menu-wrapper">
			<div id="menu">
				<ul>
                    <li><a href="/main/faces/liste-questionnaire-modif.xhtml">Questionnaires</a></li>
                     <li><a href="/main/faces/profil.xhtml">Ma Page</a></li>
                     <li><a href="/main/faces/listeAmis.xhtml">Contact</a></li>
                     <li><a href="/main/faces/Messagerie.xhtml">Messagerie</a></li>
				    <li><h:form><h:commandLink value="Deconnexion" action="#{sessionBean.deconnecter()}"><f:param name="contenu" value=""/></h:commandLink></h:form></li>					
				</ul>
			</div>
		</div>
        
        <div id="page" class = "container">
            <div id = "content">
                <h1>#{beanQuestionnaire.nomQuestionnaire}</h1>
        <br></br><br></br>    
        <h:form>
            <h:button value="Ajouter une question" outcome="ajout-question.xhtml">
                <f:param name="id" value ="#{param['id']}"></f:param>
            </h:button><br/>  <br/><br/>   
            <c:forEach var="questions" items="${beanQuestionnaire.question}"><br/>
                ${questions.question}&nbsp;(${questions.type})
                <h:commandButton value="Supprimer" action="#{ajoutQuestionBean.supprimerQuestion(questions.id)}">
                    <f:param name="id" value ="#{param['id']}"></f:param>
                </h:commandButton>
                <h:button value="Modifier" outcome="modif-question.xhtml">
                    <f:param name="id" value ="${questions.id}"></f:param>
                    <f:param name="quest" value ="#{param['id']}"></f:param>
                </h:button><br/>
                <ul>
                <c:forEach var="choix" items="${beanQuestionnaire.getChoix(questions.id)}">
                    <li>${choix.reponse}</li>
                </c:forEach>
                </ul>
                <c:set var="quest" value="${questions.id}"></c:set>
                <c:set var="type" value="${questions.type}"></c:set>
            
                 <br></br><br></br>
            </c:forEach>
            
            <h:button value="Finir questionnaire" outcome="liste-questionnaire-modif.xhtml">

            </h:button><br/>
        </h:form>
         </div>  
</div>
	<div id="footer-wrapper">
			<div id="menu">
				<ul>	
					 <li><a href="/main/faces/faq.xhtml">FAQ</a></li>
				</ul>
			</div>
	</div>
    </h:body>
</html>

